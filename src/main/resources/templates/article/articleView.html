<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_layout.html}">
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.min.css"/>
    <link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta charset="UTF-8">
    <title>Article</title>
  </head>

  <main class="col-9 py-md-3 pl-md-5 bd-content" role="main" layout:fragment="article">

    <h1 th:text="${article.title}"></h1>

    <div id="viewer"></div>

  </main>

  <th:block layout:fragment="script">
    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
    <script src="/js/editor/toast_viewer.js"></script>

    <script th:inline="javascript">

      /*<![CDATA[*/
      document.addEventListener("DOMContentLoaded", () => {

        const content = /*[[${article.content}]]*/;

        const viewer = toastui.Editor.factory({
          el: document.querySelector('#viewer'),
          viewer: true,
          height: '500px',
          initialValue: content,
          initialEditType: 'markdown'
        });
      });
      /*]]>*/
    </script>
  </th:block>
</html>